{% extends 'layout/double_columns.html' %}
{% from 'macros/link_to.html' import li_link_to %}

{% block css %}
{{ super() }}
<link rel="stylesheet" type="text/css" href="/static/css/book/book.css">
{% endblock %}

{% block left_col %}

<div class="page-header">
    <h1><small>图书首页</small></h1>
</div>

<div id="recent-books" class="book-list clearfix">
    <h2><small>新书</small></h2>
    <ul class="unstyled inline">
    {% for book in recent_books %}
        <li>
            <a href="{{ url_for('book.item', book_id=book.id) }}">
                <img src="{{ book.cover_path }}" width=100 height=140>
            </a>
            <p class="ellipsis"><a title="{{ book.title }}" href="{{ url_for('book.item', book_id=book.id) }}">{{ book.title }}</a></p>
        </li>
    {% endfor %}
    </ul>
</div>

<div id="popular-books" class="book-list clearfix">
    <h2><small>好评图书</small></h2>
    <ul class="unstyled inline">
    {% for book in popular_books %}
        <li>
            <a href="{{ url_for('book.item', book_id=book.id) }}">
                <img src="{{ book.cover_path }}" width=100 height=140>
            </a>
            <p class="ellipsis"><a title="{{ book.title }}" href="{{ url_for('book.item', book_id=book.id) }}">{{ book.title }}</a></p>
        </li>
    {% endfor %}
    </ul>
</div>

<script type="text/javascript" src="/static/js/jquery/jquery.ellipsis.js"></script>
<script type="text/javascript">
$(function() {
    $('.ellipsis').ellipsis();
});
</script>

{% endblock %}

{% block right_col %}
{% endblock %}
