{% extends 'layout/single_column.html' %}

{% block css %}
{{ super() }}
<link rel="stylesheet" href="/static/css/account/account.css">
{% endblock %}

{% block content %}

{% from 'macros/link_to.html' import link_to %}

<div class="page-header">
    <h1><small>{{ _('Sign In') }}</small></h1>

    <div id="go-to-signin">
        还没有帐号？到{{ link_to('account.signup', '这里') }}注册
    </div>
</div>

{% from 'macros/flash.html' import flash_messages %}
{{ flash_messages() }}

<div id="signin-form">
    {% from 'macros/form.html' import center_form, render_checkbox %}
    {% call center_form('account.signin', next=next) %}
        {{ form.csrf_token }}

        <div class="control-group{% if form.email.errors %} error{% endif %}">
            <div class="controls input-prepend">
                <span class="add-on"><i class="icon-envelope"></i></span>
                {{ form.email(placeholder=_('Email')) }}
            </div>
            <span class="help-inline">{{ ' '.join(form.email.errors) }}</span>
        </div>

        <div class="control-group{% if form.password.errors %} error{% endif %}">
            <div class="controls input-prepend">
                <span class="add-on"><i class="icon-key"></i></span>
                {{ form.password(placeholder=_('password')) }}
            </div>
            <span class="help-inline">{{ ' '.join(form.password.errors) }}</span>
        </div>

        {{ render_checkbox(form.remember) }}

        <div class="control-group">
            <div class="controls">
                <button class="btn btn-primary" type="submit">{{ _('Sign In') }}</button>
                <a href="#">{{ _('Forgot your password?') }}</a>
            </div>
        </div>
    {% endcall %}
</div>

<script type="text/javascript" src="/static/js/jquery/jquery.placeholder.min.js"></script>
<script type="text/javascript">
$(function() {
    $('input').placeholder();
});
</script>

{% endblock %}
